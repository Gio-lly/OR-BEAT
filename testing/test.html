<!-- RICORDA:
 STEP 1: PULLA PER SINCRONIZZARE, non si può pullare se non tutto è committato.
 STEP 2: FAI LE TUE MODIFICHE
 STEP 3: COMMITTA LE TUE MODIFICHE(quindi fai add sul coso a sinistra e committa)
 STEP 4: PULLA (di nuovo, se qualcuno ha pushato nel frattempo, dovrai fare il merge tra i codici,
  e committare il merge)
 STEP 5: PUSHA
 -->
 
<html>

<head>
    <title>Progetto</title>
    <script src="Model.js" charset="UTF-8" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.2/p5.js"> </script>
    <script src="https://unpkg.com/tone@latest"></script>
    <script src="https://unpkg.com/wavesurfer.js@latest"></script>
    <script src="https://unpkg.com/wavesurfer.js@latest/dist/plugins/regions.min.js"></script>
    <script src="https://unpkg.com/wavesurfer.js@latest/dist/plugins/record.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/meyda/dist/web/meyda.min.js"></script>

    <link rel="icon" href="favicon.png" type="image/png">
    <link href="stile.css" rel="stylesheet" type="text/css">
    <script src="script.js" charset="UTF-8" defer></script>
    <script src="record.js" charset="UTF-8" defer></script>
    <script src="matrix.js" charset="UTF-8" defer></script>
    <script src="Processors/progressbar.js" charset="UTF-8" defer></script>
    <script src="Processors/display.js" charset="UTF-8" defer></script>
</head>

<body>

    <div class="page modal" id="welcomePage">
        <p id="title">Benvenuto!</p>
        <div id="dropZone">
            <!-- Qui verrà caricato il file dall'utente -->
            <p>Trascina qui il file o clicca per selezionarlo</p>
            <input type="file" id="file-input" style="display: none;"
                accept=".mp3,.wav,.aac,audio/wav,audio/mpeg,audio/aac" />
        </div>
        <p>Oppure scegli un preset:</p>
        <button id="preset-btn">Scegli un preset</button>
        <div id="preset-list" style="display: none;">
            <!-- Qui verranno mostrati i preset -->
        </div>
        
        <br>
        <!-- Bottone per mostrare la sezione di registrazione -->
        <button id="record-btn">Registra</button>

        <!-- Sezione di registrazione nascosta inizialmente -->
        <div id="recording-section" style="display: none;">
            <p style="margin-top: 0">Press Record to start recording</p>

            <button id="record">Record</button>
            <button id="pause" style="display: none;">Pause</button>

            <select id="mic-select">
                <option value="" hidden>Select mic</option>
            </select>
            
            <p id="progress">00:00</p>
            <div id="mic" style="border: 1px solid #ddd; border-radius: 4px; margin-top: 1rem"></div>

            <div id="recordings"></div>
        </div>
        <br>
        
        <!-- Qui abbiamo il bottone 'CONTINUA' e la visualizzazione del file che verrà processato -->
        <br>
        <button id="continue-btn" type="submit">Continua</button>
        <div id="file-list"></div>
    </div>

    <!-- Qui abbiamo la nostra workstation, abilitata una volta caricato il file -->
    <div class="page home" id="workstation">
       
       <div id="waveform"></div>
       <div id="waveform-controls" style="display: none;">
        <label style="margin-left: 2em">
          Zoom: <input type="range" min="10" max="1000" value="10" />
        </label>
       </div>
       
       <br>
       <br>
       <div id="matrix-container"></div>
       <!--div id="canvas-container"></div>

    </div>

</body>

</html>